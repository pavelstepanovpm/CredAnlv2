#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–¥–∞ –Ω–∞ GitHub –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

echo "üêô –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞ –Ω–∞ GitHub..."
echo "=================================================="

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —É–¥–∞–ª–µ–Ω–Ω–æ–º—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é
echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ GitHub..."
if ! git remote get-url origin > /dev/null 2>&1; then
    echo "‚ùå –£–¥–∞–ª–µ–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω"
    echo "   –í—ã–ø–æ–ª–Ω–∏—Ç–µ: git remote add origin https://github.com/pavelstepanovpm/credanlv2.git"
    exit 1
fi

echo "‚úÖ –£–¥–∞–ª–µ–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞—Å—Ç—Ä–æ–µ–Ω"
git remote -v

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
echo ""
echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è..."
git status

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å main –≤–µ—Ç–∫—É
echo ""
echo "üöÄ –û—Ç–ø—Ä–∞–≤–∫–∞ main –≤–µ—Ç–∫–∏..."
if git push -u origin main; then
    echo "‚úÖ Main –≤–µ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ"
else
    echo "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ main –≤–µ—Ç–∫–∏"
    exit 1
fi

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ –≤–µ—Ç–∫–∏
echo ""
echo "üöÄ –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –≤–µ—Ç–æ–∫..."

echo "üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ develop –≤–µ—Ç–∫–∏..."
if git push origin develop; then
    echo "‚úÖ Develop –≤–µ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞"
else
    echo "‚ö†Ô∏è  Develop –≤–µ—Ç–∫–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ (–≤–æ–∑–º–æ–∂–Ω–æ, —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)"
fi

echo "üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ feature/new-features –≤–µ—Ç–∫–∏..."
if git push origin feature/new-features; then
    echo "‚úÖ Feature –≤–µ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞"
else
    echo "‚ö†Ô∏è  Feature –≤–µ—Ç–∫–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ (–≤–æ–∑–º–æ–∂–Ω–æ, —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)"
fi

echo "üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ hotfix/bug-fixes –≤–µ—Ç–∫–∏..."
if git push origin hotfix/bug-fixes; then
    echo "‚úÖ Hotfix –≤–µ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞"
else
    echo "‚ö†Ô∏è  Hotfix –≤–µ—Ç–∫–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ (–≤–æ–∑–º–æ–∂–Ω–æ, —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)"
fi

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ–≥–∏
echo ""
echo "üè∑Ô∏è  –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–≥–æ–≤..."
if git push --tags; then
    echo "‚úÖ –¢–µ–≥–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ"
else
    echo "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ç–µ–≥–æ–≤"
fi

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å
echo ""
echo "üîç –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞..."
echo "–í–µ—Ç–∫–∏ –Ω–∞ GitHub:"
git branch -r

echo ""
echo "–¢–µ–≥–∏ –Ω–∞ GitHub:"
git tag -l

echo ""
echo "üéâ –ö–æ–¥ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ GitHub!"
echo "üîó –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: https://github.com/pavelstepanovpm/credanlv2"
echo ""
echo "üìã –ß—Ç–æ –¥–∞–ª—å—à–µ:"
echo "1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://github.com/pavelstepanovpm/credanlv2"
echo "2. –î–æ–±–∞–≤—å—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è"
echo "3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–µ–≥–∏ (topics)"
echo "4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∑–∞—â–∏—Ç—É –≤–µ—Ç–æ–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)"
